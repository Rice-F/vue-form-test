{"remainingRequest":"/Users/sunjing/Documents/test/vue-test/vue-form-test/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/sunjing/Documents/test/vue-test/vue-form-test/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/sunjing/Documents/test/vue-test/vue-form-test/node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!/Users/sunjing/Documents/test/vue-test/vue-form-test/src/components/FormItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunjing/Documents/test/vue-test/vue-form-test/src/components/FormItem.vue","mtime":1583398764000},{"path":"/Users/sunjing/Documents/test/vue-test/vue-form-test/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sunjing/Documents/test/vue-test/vue-form-test/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sunjing/Documents/test/vue-test/vue-form-test/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sunjing/Documents/test/vue-test/vue-form-test/node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvc3VuamluZy9Eb2N1bWVudHMvdGVzdC92dWUtdGVzdC92dWUtZm9ybS10ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTY2hlbWEgZnJvbSAnYXN5bmMtdmFsaWRhdG9yJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdmb3JtLWl0ZW0nLAogIGluamVjdDogWydFRm9ybSddLAogIHByb3BzOiBbJ2xhYmVsJywgJ3Byb3AnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyTXNnOiAnJywKICAgICAgZXJyU3RhdHVzOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRvbigndmFsaWRhdGUnLCB0aGlzLnZhbGlkYXRvcik7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDpqozor4Hop4TliJkKICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2codGhpcykKICAgICAgdmFyIHJ1bGVzID0gdGhpcy5FRm9ybS5ydWxlc1t0aGlzLnByb3BdOwogICAgICB2YXIgdmFsdWUgPSB0aGlzLkVGb3JtLm1vZGVsW3RoaXMucHJvcF07IC8vIOmqjOivgeeahOaPj+i/sOWvueixoSDpqozor4Hop4TliJkKCiAgICAgIHZhciBkZXNjcmlwdG9yID0gX2RlZmluZVByb3BlcnR5KHt9LCB0aGlzLnByb3AsIHJ1bGVzKTsKCiAgICAgIHZhciBzY2hlbWEgPSBuZXcgU2NoZW1hKGRlc2NyaXB0b3IpOwogICAgICBzY2hlbWEudmFsaWRhdGUoX2RlZmluZVByb3BlcnR5KHt9LCB0aGlzLnByb3AsIHZhbHVlKSwgZnVuY3Rpb24gKGVycm9ycykgewogICAgICAgIGlmIChlcnJvcnMpIHsKICAgICAgICAgIF90aGlzLmVyck1zZyA9IGVycm9yc1swXS5tZXNzYWdlOwogICAgICAgICAgX3RoaXMuZXJyU3RhdHVzID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZXJyTXNnID0gJyc7CiAgICAgICAgICBfdGhpcy5lcnJTdGF0dXMgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["FormItem.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA,OAAA,MAAA,MAAA,iBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,MAAA,EAAA,CAAA,OAAA,CAFA;AAGA,EAAA,KAAA,EAAA,CAAA,OAAA,EAAA,MAAA,CAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,GAAA,CAAA,UAAA,EAAA,KAAA,SAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,uBAEA;AAAA;;AACA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA,CAHA,CAIA;;AACA,UAAA,UAAA,uBAAA,KAAA,IAAA,EAAA,KAAA,CAAA;;AACA,UAAA,MAAA,GAAA,IAAA,MAAA,CAAA,UAAA,CAAA;AACA,MAAA,MAAA,CAAA,QAAA,qBAAA,KAAA,IAAA,EAAA,KAAA,GAAA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,MAAA,CAAA,CAAA,CAAA,CAAA,OAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA;AACA,OARA;AASA;AAlBA;AAbA,CAAA","sourcesContent":["<template>\n  <div id=\"form-item\">\n    <label for=\"\">{{label}}</label>\n    <div>\n      <slot></slot>\n      <p v-if=\"errStatus\">{{errMsg}}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Schema from 'async-validator'\nexport default {\n  name: 'form-item',\n  inject: ['EForm'],\n  props: ['label', 'prop'],\n  data () {\n    return {\n      errMsg: '',\n      errStatus: false\n    }\n  },\n  mounted () {\n    this.$on('validate', this.validator)\n  },\n  methods: {\n    // 验证规则\n    validator () {\n      // console.log(this)\n      const rules = this.EForm.rules[this.prop]\n      const value = this.EForm.model[this.prop]\n      // 验证的描述对象 验证规则\n      const descriptor = { [this.prop]: rules }\n      const schema = new Schema(descriptor)\n      schema.validate({ [this.prop]: value }, errors => {\n        if (errors) {\n          this.errMsg = errors[0].message\n          this.errStatus = true\n        } else {\n          this.errMsg = ''\n          this.errStatus = false\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#form-item {\n\n}\n</style>\n"],"sourceRoot":"src/components"}]}